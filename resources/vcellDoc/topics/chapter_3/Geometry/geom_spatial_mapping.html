<html>
<head>
<title>Structure Mapping</title>
</head><body>
<p><h2>Structure Mapping</h2></p>
<p>
	Structure Mapping defines the relationship between the physiology (Compartments/Structures) and the geometry (Domains).
	The mapping provides information to simulation solvers that identifies a physiology structure at every point in space.
	</p>
<p><br><br>
<img align=left src="../../image/Structure_Mapping.PNG" width="976" height="698">
<p>
	From a selected application click on "Geometry and click the "Structure Mapping" tab.
	The left panel depicts the "physiology (structures)", the right depicts the "Geometry (subdomains)" and the bottom displays a table of the structure mapping assignments.  
	</p>
</p>
<p><p><b>Compartmental (non-spatial)</b> BioModel structure mapping.  (See <a href="geom_nonspatial_mapping.html">Non-Spatial Mapping</a> for non-spatial geometry mapping)
	</p>
<p><b>Spatial</b> BioModel structure mapping</p>
<p>
	Spatial BioModel structure mappings are defined by the user within an "Application" after all physiology compartments and a spatial geometry have been added.</p>
<p><b>Choose</b> one of the methods below to map each physiology structure to the appropriate geometry subdomain: 
	<ul><li>1.  For each distinct physiology structure, select the "mapping" tool and click on a point within the physiology structure (left panel) and drag the colored square next to the appropriate geometry subdomain (right panel).  (ignore any 2-color squares, these represent membranes that are defined as the boundary between two structures).</li>

	- or -
	<li>2.  In the "Structure Mapping" table click the table under the "Subdomain" heading next to the "Structure" you want to map and choose a geometry domain from the pop-up list that appears to define the mapping.</li>
</ul>
</p>
<p>
	For applications with SPATIAL geometries the "Structure Mapping" table allows the user to enter boundary conditions to be used ONLY when the structure intersects the edge of the simulation world (i.e. the entire simulation domain). Note that for structures mapped to a spatial geometry domain that do not intersect the edge of the simulation world, this setting will have no effect. In the "Structure Mapping" table each (-X,+X,-Y,+Y,-Z,+Z) column associated with a structure represents an edge of the simulation world, where "-X" represents the edge of the simulation world in the minus X direction and the other columns have similar meaning for the indicated axis (XYZ) and direction (-+).</p>
<p><b>Set</b> boundary conditions to either "FLUX" or "VALUE" by selecting from the pull down menu in the appropriate column (-X,+X,-Y,+Y,-Z,+Z) for each structure/subdomain mapping. 
	<ul><li>FLUX instructs the solver to use an explicitly defined constant or function to calculate the flux (uM.um.s-1) of a species at the simulation world boundary.</li>
<li>VALUE instructs the solver to use an explicitly defined constant or function to calculate the concentration (uM) of a species at the simulation world boundary.</li>
</ul>

	The boundary condition chosen will determine how a species interacts with the simulation world boundary. The actual constant or function is defined for each species in the (see <a href="../Specifications/SpeciesSpecifications.html">Specifications->Species</a>) panel.
	</p>
</p>
</body>
</html>
